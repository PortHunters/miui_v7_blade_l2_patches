appfile <android.policy.jar>;
#Дополнительные пункты для перезагрузки
replaceinfile "%smali%/com/android/internal/policy/impl/MiuiGlobalActions$1.smali" "    const-string v0, "shutdown"" "    const-string v0, "recovery"\n\n    invoke-virtual {v0, p1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z\n\n    move-result v0\n\n    if-eqz v0, :cond_5\n\n    :try_start_1\n    # invokes: Lcom/android/internal/policy/impl/MiuiGlobalActions;->getPowerManager()Landroid/os/IPowerManager;\n    invoke-static {}, Lcom/android/internal/policy/impl/MiuiGlobalActions;->access$100()Landroid/os/IPowerManager;\n\n    move-result-object v0\n\n    const/4 v1, 0x0\n\n    const-string v2, "recovery"\n\n    const/4 v3, 0x0\n\n    invoke-interface {v0, v1, v2, v3}, Landroid/os/IPowerManager;->reboot(ZLjava/lang/String;Z)V\n    :try_end_1\n    .catch Landroid/os/RemoteException; {:try_start_1 .. :try_end_1} :catch_1\n\n    goto :goto_0\n\n    :catch_1\n    move-exception v0\n\n    goto :goto_0\n\n    :cond_5";
replaceinfile "%smali%/com/android/internal/policy/impl/MiuiGlobalActions$1.smali" "    const-string v0, "shutdown"" "    const-string v0, "recovery"\n\n    invoke-virtual {v0, p1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z\n\n    move-result v0\n\n    if-eqz v0, :cond_5\n\n    :try_start_1\n    # invokes: Lcom/android/internal/policy/impl/MiuiGlobalActions;->getPowerManager()Landroid/os/IPowerManager;\n    invoke-static {}, Lcom/android/internal/policy/impl/MiuiGlobalActions;->access$100()Landroid/os/IPowerManager;\n\n    move-result-object v0\n\n    const/4 v1, 0x0\n\n    const-string v2, "recovery"\n\n    const/4 v3, 0x0\n\n    invoke-interface {v0, v1, v2, v3}, Landroid/os/IPowerManager;->reboot(ZLjava/lang/String;Z)V\n    :try_end_1\n    .catch Landroid/os/RemoteException; {:try_start_1 .. :try_end_1} :catch_1\n\n    goto :goto_0\n\n    :catch_1\n    move-exception v0\n\n    goto :goto_0\n\n    :cond_5\n\n    const-string v0, "shutdown"";